# API AnimeBot

---

## üì± –ü—É–±–ª–∏—á–Ω—ã–π API (Telegram-–±–æ—Ç)

> –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ Telegram Bot API ‚Äî –∫–æ–º–∞–Ω–¥—ã `/start`, `/details`, `/subscribe` –∏ —Ç. –¥, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç –≤–≤–æ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

| **–ö–æ–º–∞–Ω–¥–∞**        | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                            |
| ------------------ | ------------------------------------------------------------------------------------------------------- |
| `/start`           | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π.                                                         |
| `/recommendations` | –ó–∞–ø—Ä–æ—Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: –±–æ—Ç –ø–æ—ç—Ç–∞–ø–Ω–æ —É—Ç–æ—á–Ω—è–µ—Ç –∂–∞–Ω—Ä, —Ç–∏–ø, —Å—Ç–∞—Ç—É—Å –∏ —Ç. –ø., –∑–∞—Ç–µ–º —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç, —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ –∫–∞–∫–∏–µ-—Ç–æ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—ã–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–∞–π—Ç–ª–æ–≤. –£—Ç–æ—á–Ω–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ç–∞–∫: –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∂–∞–Ω—Ä–æ–≤, –±–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∂–∞–Ω—Ä–æ–≤ –≤ –≤–∏–¥–µ –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –ø–æ—Å–ª–µ —á–µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –µ–≥–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –≤ –∂–∞–Ω—Ä–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∞–Ω–∏–º–µ.    |
| `/details`         | –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –æ–± –∞–Ω–∏–º–µ: –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç –ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ, –¥–∞–ª–µ–µ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∞–Ω–∏–º–µ —Å –ø–æ–¥—Ö–æ–¥–∏—â–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ –≤–∏–¥–µ –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –∑–∞—Ç–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–µ, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—ã—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–Ω–∏–º–µ. |
| `/subscribe`       | –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤—ã–µ —Å–µ—Ä–∏–∏: –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç –ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ, –¥–∞–ª–µ–µ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∞–Ω–∏–º–µ —Å –ø–æ–¥—Ö–æ–¥–∏—â–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ –≤–∏–¥–µ –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –∑–∞—Ç–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–µ, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ.   |
| `/unsubscribe`     | –û—Ç–ø–∏—Å–∫–∞: –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–Ω–∏–º–µ, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–µ, –∏ –ø–æ–¥–ø–∏—Å–∫–∞ —É–¥–∞–ª—è–µ—Ç—Å—è.            |
| `/commands`        | –í—ã–≤–æ–¥–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.                                                        |

---

## üñ•Ô∏è REST-API (anime-service)

> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Telegram-–±–æ—Ç–æ–º –∏ –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏.

| –ú–µ—Ç–æ–¥      | –ü—É—Ç—å                                     | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ | –û–ø–∏—Å–∞–Ω–∏–µ                                            |
| ---------- | ---------------------------------------- | ------------------------ | ------------ | --------------------------------------------------- |
| **GET**    | `/api/anime/{id}`                        | `id: Long`               | ‚Äî            | –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ–± –∞–Ω–∏–º–µ –ø–æ –µ–≥–æ ID                      |
| **POST**   | `/api/anime/{id}/subscribe`              | `chatId: Long` (query)   | ‚Äî            | –ü–æ–¥–ø–∏—Å–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∞–Ω–∏–º–µ  |
| **DELETE** | `/api/anime/{id}/unsubscribe`            | `chatId: Long` (query)   | ‚Äî            | –û—Ç–ø–∏—Å–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –¥–∞–Ω–Ω–æ–≥–æ –∞–Ω–∏–º–µ   |
| **PUT**    | `/api/anime/preferences/{chatId}/kind`   | `kind: String` (query)   | ‚Äî            | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø (film, series‚Ä¶)       |
| **PUT**    | `/api/anime/preferences/{chatId}/genre`  | `genre: String` (query)  | ‚Äî            | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –∂–∞–Ω—Ä                      |
| **PUT**    | `/api/anime/preferences/{chatId}/status` | `status: String` (query) | ‚Äî            | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (ongoing/finished) |
| **GET**    | `/api/anime/kinds`                       | ‚Äî                        | ‚Äî            | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∞–Ω–∏–º–µ                   |
| **GET**    | `/api/anime/genres`                      | ‚Äî                        | ‚Äî            | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∂–∞–Ω—Ä–æ–≤                                  |
| **GET**    | `/api/anime/statuses`                    | ‚Äî                        | ‚Äî            | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤                                |
| **GET**    | `/api/anime/search`                      | `q: String` (query)      | ‚Äî            | –ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é (—Ñ—Ä–∞–≥–º–µ–Ω—Ç—É –∏–ª–∏ –ø–æ–ª–Ω–æ–º—É)     |
| **GET**    | `/api/anime/subscribed/{chatId}`         | `chatId: Long`           | ‚Äî            | –°–ø–∏—Å–æ–∫ —Ç–∞–π—Ç–ª–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø–∏—Å–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å    |
| **GET**    | `/api/anime/recommendations/{chatId}`    | `chatId: Long`           | ‚Äî            | –°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –∞–Ω–∏–º–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –µ–≥–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö                       |

---

## üõéÔ∏è REST-API (Telegram-–±–æ—Ç)

> –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–ª—É–∂–±, —á—Ç–æ–±—ã ¬´–ø—Ä–æ–∑–≤–æ–Ω–∏—Ç—å¬ª –±–æ—Ç–∞ –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑–æ—Å–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —ç–ø–∏–∑–æ–¥–∞—Ö.

| –ú–µ—Ç–æ–¥    | –ü—É—Ç—å                                    | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞                                                                                                                                       | –û–ø–∏—Å–∞–Ω–∏–µ                                                             |
| -------- | --------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| **POST** | `/api/telegram-bot/notify-new-episodes` | `List<UsersAnimeWithNewEpisodesDto>`<br>`json<br>[<br>  {<br>    "chatId": 12345,<br>    "anime": [{ "id": 1, "title": "Naruto", ‚Ä¶ }]<br>  }<br>]` | –ü—Ä–∏–Ω—è—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –Ω–æ–≤—ã—Ö —Ç–∞–π—Ç–ª–æ–≤, —Ä–∞–∑–æ—Å–ª–∞—Ç—å –∏–º —Å–æ–æ–±—â–µ–Ω–∏—è |


